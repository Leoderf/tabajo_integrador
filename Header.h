#pragma once.

#include <iostream>
#include <windows.h>

using namespace std;

const int NONE = 0;
const int COMIDA = 1;
const int FANTASMA = 2;
const int JUGADOR = 3;

//creo la clase madre Ete
class Ente {

protected:
	int vida;
	int puntaje;
	int posX, posY;
	int RosX, RosY;
	int newPosX, newPosY;
	int action;
	int step;

public:


	int getNewPosX() { return newPosX; }
	int getNewPosY() { return newPosY; }
	int getPosX() { return posX; }
	int getPosY() { return posY; }

	void colidedTo(int);

public:
//escribo la funcion gotoxy en la clase madre
	void gotoxy(int x, int y) {
		HANDLE hcon;
		COORD dwPos = { x, y };

		hcon = GetStdHandle(STD_OUTPUT_HANDLE);

		dwPos.X = x;
		dwPos.Y = y;
		SetConsoleCursorPosition(hcon, dwPos);
	}

	


};

//creo la clase heredada de Ente, Jugador
class Jugador : public Ente {

public:
	Jugador();
	void draw();
	void getJugadorAction();
	void eatFood();
	bool move();
	int getPlayerPoints();
	int getNewPosX();
	int getNewPosY();
	int getPosX();
	int getPosY();



protected:
	int vida;
	int puntaje;
	int posX, posY;
	int newPosX, newPosY;
	int action;




private:
	void limpiaPosicionJugador();
	void setPlayerPoints(int puntos);


};
//Y la clase fantasma
class Fantasma : public Ente {
public:
	Fantasma();
	Fantasma(int, int);
	void draw();
	bool move();
	void getAction(Jugador);
	int getNewPosX();
	int getNewPosY();
	int getPosX();
	int getPosY();
	void setPosX(int);
	void setPosY(int);
	void colidedTo(int);

private:
	
	int RosX, RosY;
	int newPosX;
	int newPosY;
	int newRosX;
	int newRosY;
	int action;
	void limpiaPosicion();
	

};

//creo la comida
class Comida {

public:
	Comida();
	int getPuntos();
	int getPosX();
	int getPosY();
private:
	int punto;
	int posX;
	int posY;
	

};
//creo la clase mapa y el mapa 
class mundo {
	
public:
	int posX;
	int posY;
	int newPosX;
	int newRosY;
	
	char mapa[30][130] = {	"........................................................................................................................",
							"........1...............................................................................................................",
							"........2@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@......................................................",
							"........3@       *                  @@@@                  *      @......................................................",
							"........4@  @@@@@@@@@  @@@@@@@@@@@  @@@@  @@@@@@@@@@@  @@@@@@@@  @......................................................",
							"........5@  @@@@@@@@@  @@@@@@@@@@@  @@@@  @@@@@@@@@@@  @@@@@@@@  @......................................................",
							"........6@                                                       @......................................................",
							"........7@  @@@@@@@@@  @@  @@@@@@@@@@@@@@@@@@@@@@  @@  @@@@@@@@  @......................................................",
							"........8@             @@           @@@@           @@            @......................................................",
							"........9@@@@@@@@@@@@  @@@@@@@@@@@  @@@@  @@@@@@@@@@@  @@@@@@@@@@@......................................................",
							".......10@@@@@@@@@@@@  @@@@@@@@@@@  @@@@  @@@@@@@@@@@  @@@@@@@@@@@......................................................",
							".......11@@@@@@@@@@@@* @@                          @@ *@@@@@@@@@@@......................................................",
							".......12@@@@@@@@@@@@  @@  @@@@@@@        @@@@@@@  @@  @@@@@@@@@@@......................................................",
							".......13@@@@@@@@@@@@      @                    @      @@@@@@@@@@@......................................................",
							".......14@@@@@@@@@@@@  @@  @                    @  @@  @@@@@@@@@@@......................................................",
							".......15@@@@@@@@@@@@  @@  @@@@@@@@@@@@@@@@@@@@@@  @@  @@@@@@@@@@@......................................................",
							".......16@@@@@@@@@@@@* @@                          @@ *@@@@@@@@@@@......................................................",
							".......17@@@@@@@@@@@@  @@  @@@@@@@@@@@@@@@@@@@@@@  @@  @@@@@@@@@@@......................................................",
							".......18@                         @@@@                          @......................................................",
							".......19@  @@@@@@@@@  @@@@@@@@@@  @@@@  @@@@@@@@@@@@  @@@@@@@@  @......................................................",
							".......20@         @@                                  @@        @......................................................",
							".......21@@@@@@@@  @@  @@@   @@@@@@@@@@@@@@@@@@  @@@   @@  @@@@@@@......................................................",
							".......22@             @@@         @@@@          @@@             @......................................................",
							".......23@  @@@@@@@@@@@@@@@@@@@@@  @@@@  @@@@@@@@@@@@@@@@@@@@@   @......................................................",
							".......24@           *                             *             @......................................................",
							".......25@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@......................................................",
							"........................................................................................................................",
							"........................................................................................................................",
							"........................................................................................................................",
							"........................................................................................................................" };

	mundo();

	void draw();
	int IsCollition(int posX,int posY);
	void removeFood(int posX, int posY);
	
	int IsCollition2(int newPosX, int newRosY);
};































